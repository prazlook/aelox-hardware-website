@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;

    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;

    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;

    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;

    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;

    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;

    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;

    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-theme-dark text-theme-text-primary;
  }
}

/* Animations existantes conserv√©es */
@keyframes zap-trace {
  to { stroke-dashoffset: 0; }
}

@keyframes server-blink {
  0%, 100% { opacity: 1; }
  25% { opacity: 0.2; }
  50% { opacity: 0.8; }
  75% { opacity: 0.4; }
}

@keyframes marching-ants {
  from { stroke-dashoffset: 0; }
  to { stroke-dashoffset: 36; }
}

@keyframes slide-in-item {
  from { opacity: 0; transform: translateX(-15px); }
  to { opacity: 1; transform: translateX(0); }
}

@keyframes draw-border {
  from { stroke-dashoffset: 500; }
  to { stroke-dashoffset: 0; }
}

@keyframes flicker-in {
  0%, 100% { opacity: 1; }
  10%, 30%, 50%, 70%, 90% { opacity: 0; }
  20%, 40%, 60%, 80% { opacity: 1; }
}

@keyframes shutdown-wave {
  to { stroke-dashoffset: 0; }
}

@keyframes flicker-and-fade {
  0% { opacity: 1; color: inherit; }
  20% { opacity: 0.5; }
  40% { opacity: 1; }
  60% { opacity: 0.2; }
  80% { opacity: 0.8; }
  90% { opacity: 1; color: #4a5568; }
  100% { opacity: 0.3; color: #4a5568; }
}

@keyframes gentle-shutdown-flicker {
  0% { opacity: 1; }
  25% { opacity: 0.6; }
  50% { opacity: 0.8; }
  75% { opacity: 0.4; color: #A0AEC0; }
  100% { opacity: 0; color: #A0AEC0; pointer-events: none; }
}

@keyframes ecg-border-flow {
  to { stroke-dashoffset: -48; }
}

@keyframes standby-scan {
  0% { x: 5%; }
  50% { x: 70%; }
  100% { x: 5%; }
}
@keyframes idle-pulse {
  from { stroke-dashoffset: 1200; }
  to { stroke-dashoffset: 0; }
}

@keyframes boot-up-item {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes aurora {
  from { background-position: 0% 50%; }
  to { background-position: 200% 50%; }
}

@keyframes chart-draw-animation {
  to { stroke-dashoffset: 0; }
}

@keyframes chart-wipe-animation {
    to { clip-path: inset(0 0 0 0); }
}

@keyframes fade-in-slide-up {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes startup-fade-in-scale {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}

@keyframes startup-slide-in-left {
  from { opacity: 0; transform: translateX(-20px); }
  to { opacity: 1; transform: translateX(0); }
}

@keyframes startup-slide-in-right {
  from { opacity: 0; transform: translateX(20px); }
  to { opacity: 1; transform: translateX(0); }
}

@keyframes startup-fade-in-from-center {
  from { opacity: 0; transform: scale(0.8); filter: blur(10px); }
  to { opacity: 1; transform: scale(1); filter: blur(0px); }
}

@keyframes global-indicator-fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes global-indicator-bars-grow {
  from { transform: scaleY(0); opacity: 0; }
  to { transform: scaleY(1); opacity: 1; }
}

@keyframes global-indicator-waveform-draw {
  from { stroke-dashoffset: 1000; }
  to { stroke-dashoffset: 0; }
}

@keyframes global-indicator-ecg-center-expand {
  0% { stroke-dasharray: 0 1000; stroke-dashoffset: 500; opacity: 0; }
  50% { stroke-dasharray: 500 500; stroke-dashoffset: 0; opacity: 1; }
  100% { stroke-dasharray: 1000 0; stroke-dashoffset: 0; opacity: 1; }
}

@keyframes app-shutdown {
  0% { filter: blur(0px) brightness(1) saturate(1); transform: scale(1); opacity: 1; }
  50% { filter: blur(2px) brightness(0.7) saturate(0.7); transform: scale(0.99); opacity: 0.8; }
  100% { filter: blur(5px) brightness(0.4) saturate(0.4); transform: scale(0.98); opacity: 0.5; }
}

@keyframes fluorescent-flicker {
  0% { opacity: 1; filter: brightness(1) grayscale(0); transform: scale(1); }
  10% { opacity: 0.1; filter: brightness(0.3) grayscale(1); transform: scale(0.98); }
  20% { opacity: 0.7; filter: brightness(1.1) grayscale(0); transform: scale(1.01); }
  30% { opacity: 0.2; filter: brightness(0.4) grayscale(1); transform: scale(0.97); }
  40% { opacity: 0.9; filter: brightness(1.05) grayscale(0); transform: scale(1); }
  50% { opacity: 0.15; filter: brightness(0.35) grayscale(1); transform: scale(0.96); }
  60% { opacity: 0.6; filter: brightness(0.9) grayscale(0); transform: scale(0.99); }
  70% { opacity: 0.05; filter: brightness(0.2) grayscale(1); transform: scale(0.95); }
  80% { opacity: 0.3; filter: brightness(0.5) grayscale(1); transform: scale(0.93); }
  90% { opacity: 0.02; filter: brightness(0.1) grayscale(1); transform: scale(0.92); }
  100% { opacity: 0; filter: brightness(0) grayscale(1); transform: scale(0.9); pointer-events: none; }
}

@keyframes staggered-fade-out {
  0% { opacity: 1; transform: translateY(0); pointer-events: auto; }
  100% { opacity: 0; transform: translateY(10px); pointer-events: none; }
}

@keyframes asic-border-draw-in {
  from { stroke-dasharray: 0 1000; stroke-dashoffset: 0; opacity: 0; }
  to { stroke-dasharray: 1000 0; stroke-dashoffset: 0; opacity: 1; }
}

@keyframes card-fill-from-top {
  from { clip-path: inset(100% 0 0 0); }
  to { clip-path: inset(0% 0 0 0); }
}

@keyframes hashrate-glitch-keyframes {
  0% { stroke-dasharray: 34 8; stroke-dashoffset: 8; }
  100% { stroke-dasharray: 34 8; stroke-dashoffset: -34; }
}

@keyframes button-build-animation {
  0% { clip-path: inset(50% 50% 50% 50%); opacity: 0; }
  5% { opacity: 1; }
  20% { clip-path: inset(calc(50% - 0.5px) 0% calc(50% - 0.5px) 0%); }
  40% { clip-path: inset(0% 0% 0% 0%); }
  100% { clip-path: inset(0% 0% 0% 0%); opacity: 1; }
}

@keyframes button-content-fade-in {
  0% { opacity: 0; }
  60% { opacity: 0; }
  100% { opacity: 1; }
}

/* Honeycomb Transitions */
@keyframes button-morph-to-hex {
  0% { border-radius: 9999px; transform: rotate(0deg) scale(1); }
  50% { border-radius: 0; clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%); transform: rotate(180deg) scale(1.1); }
  100% { border-radius: 0; clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%); transform: rotate(360deg) scale(0); opacity: 0; }
}

@keyframes red-hex-unusual-appear {
  0% { transform: scale(0) skewX(20deg); opacity: 0; clip-path: inset(0 100% 0 0); }
  20% { opacity: 1; clip-path: inset(0 50% 0 0); }
  40% { transform: scale(1.2) skewX(-10deg); opacity: 0.5; }
  60% { opacity: 1; clip-path: inset(0 0 0 0); }
  80% { transform: scale(0.9) rotate(5deg); }
  100% { transform: scale(1) rotate(0deg); opacity: 1; }
}

@keyframes terminal-conflict-shake {
  0%, 100% { transform: translate(0, 0) scale(1); }
  10% { transform: translate(-5px, 2px) scale(1.02); filter: brightness(1.5); }
  20% { transform: translate(4px, -3px) scale(0.98); }
  30% { transform: translate(-8px, 0px) scale(1.05); color: #f97316; }
  40% { transform: translate(6px, 4px) scale(0.95); }
  50% { transform: translate(-2px, -6px) scale(1.1); filter: contrast(2); }
  60% { transform: translate(10px, 2px) scale(0.9); }
  70% { transform: translate(-4px, 8px) scale(1.02); }
  80% { transform: translate(8px, -4px) scale(0.97); }
  90% { transform: translate(-6px, -2px) scale(1.03); }
}

@keyframes red-line-dotted-draw {
  from { stroke-dashoffset: 400; }
  to { stroke-dashoffset: 0; }
}

@keyframes hex-flicker-red-orange {
  0%, 100% { color: #ef4444; filter: drop-shadow(0 0 10px #ef4444); }
  50% { color: #f97316; filter: drop-shadow(0 0 20px #f97316); }
}

@keyframes powerful-white-flash {
  0% { opacity: 0; }
  50% { opacity: 1; background-color: white; }
  100% { opacity: 0; }
}

@layer components {
  .animate-button-morph-hex {
    animation: button-morph-to-hex 1s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  }

  .animate-red-hex-unusual {
    animation: red-hex-unusual-appear 1.2s cubic-bezier(0.23, 1, 0.32, 1) forwards;
  }

  .animate-red-line-dotted {
    stroke-dasharray: 4 6;
    stroke-dashoffset: 400;
    animation: red-line-dotted-draw 1.5s linear forwards;
  }

  .animate-box-conflict {
    animation: terminal-conflict-shake 0.15s ease-in-out infinite;
    transform-origin: center;
  }

  .animate-hex-red-orange {
    animation: hex-flicker-red-orange 0.3s ease-in-out infinite;
  }

  .animate-final-flash {
    animation: powerful-white-flash 0.5s ease-out forwards;
  }
}

@layer utilities {
  .typewriter-cursor::after {
    content: '_';
    display: inline-block;
    vertical-align: text-bottom;
    animation: blink-caret 1s step-end infinite;
  }
}